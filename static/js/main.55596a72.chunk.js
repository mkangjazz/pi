(this.webpackJsonppi=this.webpackJsonppi||[]).push([[0],[,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(1),r=n.n(a),i=n(7),s=n.n(i),u=n(2),o=n(3);n(13),n(14),n(15),n(16),n(17);function l(e){var t=null,n=null;function r(t){e.setHiddenItems((function(t){return[].concat(Object(u.a)(t),["idx-".concat(e.idx)])}))}return Object(a.useEffect)((function(){e.setInputRefs((function(e){return[].concat(Object(u.a)(e),[t,n])}))}),[r]),Object(c.jsxs)("tr",{className:"item","data-idx":"idx-".concat(e.idx),children:[Object(c.jsx)("td",{children:Object(c.jsx)("button",{className:"remove-item",onClick:r,type:"button",children:Object(c.jsx)("span",{children:"Remove Item"})})}),Object(c.jsx)("td",{children:Object(c.jsx)("input",{name:"name_".concat(e.idx),ref:function(e){(t=e)&&t.focus()},type:"text"})}),Object(c.jsx)("td",{children:Object(c.jsx)("input",{name:"amount_".concat(e.idx),ref:function(e){n=e},type:"number"})})]})}function d(e){return Object(c.jsx)("button",{className:"button add-item",id:"add-item",onClick:function(t){e.setItems((function(t){return[].concat(Object(u.a)(t),[Object(c.jsx)(l,{idx:"".concat(e.uID),updateInputDisplay:e.updateInputDisplay,setInputRefs:e.setInputRefs,setHiddenItems:e.setHiddenItems},"idx-".concat(e.uID))])})),e.handleSubmit(t),e.setUID(e.uID+1)},type:"button",children:"Slice"})}var f=n.p+"static/media/cover-art.e65c1d44.jpg";function j(e,t,n,c,a){function r(e){return e*(360*Math.PI/180)}function i(e,n,c){var a=l-r(n/d);u.save(),u.beginPath(),u.moveTo(t.width/2,t.height/2),u.arc(t.width/2,t.height/2,o,l,a,!0),u.fillStyle=c,u.fill(),u.restore(),l=a}var s,u=e.getContext("2d"),o=function(){var e;return e=t.width>t.height?3/4*t.height:3/4*t.width,e/=2}(),l=-Math.PI/2,d=1,j=function(){for(var e=[],t=0;t<n.length;t++){var c=t/n.length,a="rgba(255, 255, 255, ".concat(c,")");e.push(a)}return e}();if(u.clearRect(0,0,t.width,t.height),n.length<1)u.save(),u.clearRect(0,0,t.width,t.height),c.src=f,u.restore();else{i(0,1,"rgb(".concat(a)),d=function(){for(var e=[],t=0;t<n.length;t++)for(var c in n[t])n[t].hasOwnProperty(c)&&e.push(n[t][c]);if(e.length>0)return e.reduce((function(e,t){return Number(e)+Number(t)}))}(),s=function(e){return e.sort((function(e,t){var n,c;for(var a in t)t.hasOwnProperty(a)&&(n=t[a]);for(var r in e)e.hasOwnProperty(r)&&(c=e[r]);return n-c}))}(n);for(var b=0;b<s.length;b++){var h=void 0;for(var O in s[b])s[b].hasOwnProperty(O)&&(O,h=s[b][O]);i(0,h,j[b])}!function(){function e(e,t,c){u.save(),u.fillStyle="#ffffff",u.fillText(e,n,t),u.fillStyle=c,u.fillText(e,n,t),u.restore()}var t=o/15;u.save(),u.textAlign="left",u.textBaseline="top",u.font="".concat(t,"px sans-serif");for(var n=u.measureText("M").width,c=1.125*n,a=0;a<s.length;a++){var r=void 0;for(var i in s[a])s[a].hasOwnProperty(i)&&(r=i);e(r,a*c+c,j[a])}u.restore()}();var m=e.toDataURL("image/png");c.src=m}}function b(e){var t=e.canvasRef;return Object(a.useLayoutEffect)((function(){var e=t.current;e&&function(e,t){var n=window.devicePixelRatio||1,c=e.getContext("2d"),a=t.getBoundingClientRect();e.width=n*a.width,e.height=n*a.height,c.scale(n,n)}(e,e.parentElement)})),Object(a.useEffect)((function(){var n=t.current,c=n.parentElement.getBoundingClientRect();j(n,c,e.canvasData,e.imgRef.current,e.selectedColor)}),[[e]]),Object(c.jsx)("div",{className:"canvas-wrapper",children:Object(c.jsx)("canvas",{id:"pi",ref:e.canvasRef})})}var h=function(){var e="255, 117, 24",t=Object(a.useState)(1),n=Object(o.a)(t,2),i=n[0],s=n[1],f=Object(a.useState)([]),j=Object(o.a)(f,2),h=j[0],O=j[1],m=Object(a.useState)([]),p=Object(o.a)(m,2),x=p[0],v=p[1],g=Object(a.useState)([]),I=Object(o.a)(g,2),y=I[0],w=I[1],R=Object(a.useState)(e),D=Object(o.a)(R,2),S=D[0],N=D[1],C=Object(a.useState)([Object(c.jsx)(l,{autofocus:!0,idx:"0",updateInputDisplay:A,setInputRefs:v,setHiddenItems:O},"idx-0")]),P=Object(o.a)(C,2),k=P[0],E=P[1],T=r.a.createRef(),B=r.a.createRef();function F(e){N(e.target.value)}function H(){function e(e){for(var t,n=0;n<x.length;n++)x[n].getAttribute("name")===e&&(t=x[n].value);return t}var t=function(){for(var t=[],n=0;n<i;n++)if(-1===h.indexOf("idx-".concat(n))){var c={},a="name_".concat(n),r="amount_".concat(n),s=e(a),u=e(r);s&&u&&(c[s]=u,t.push(c))}return t}();w(t)}function M(e){e.preventDefault(),H()}function A(){E((function(e){return Object(u.a)(e).filter((function(e){return-1===h.indexOf(e.key)}))})),H()}return Object(a.useEffect)((function(){A()}),[h]),Object(c.jsx)("div",{className:"App",children:Object(c.jsxs)("main",{children:[Object(c.jsx)(b,{selectedColor:S,canvasData:y,canvasRef:T,imgRef:B}),Object(c.jsxs)("section",{className:"mainbar",children:[Object(c.jsx)("h1",{children:"Slices"}),Object(c.jsx)("div",{className:"figure-wrapper",children:Object(c.jsx)("figure",{children:Object(c.jsx)("img",{alt:"Canvas data renders here",id:"imgPi",src:"",ref:B})})})]}),Object(c.jsxs)("section",{className:"sidebar",children:[Object(c.jsxs)("form",{onSubmit:M,children:[Object(c.jsx)("div",{className:"color-picker",children:[{name:"pumpkin",rgb:e},{name:"raspberry",rgb:"227, 11, 93"}].map((function(e,t){return Object(c.jsxs)("label",{children:[Object(c.jsx)("input",{checked:e.rgb===S,name:"[]",onChange:F,type:"radio",value:e.rgb}),e.name]},e.name)}))}),k.length>0?Object(c.jsxs)("table",{children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"\xa0"}),Object(c.jsx)("th",{children:"Name"}),Object(c.jsx)("th",{children:"Amount"})]})}),Object(c.jsx)("tbody",{children:k.map((function(e,t){return e}))})]}):null,Object(c.jsxs)("div",{className:"actions",children:[Object(c.jsx)(d,{handleSubmit:M,processInputData:H,setInputRefs:v,setHiddenItems:O,updateInputDisplay:A,setItems:E,setUID:s,uID:i}),Object(c.jsx)("button",{className:"button make-chart",type:"submit",children:"Draw"})]})]}),Object(c.jsx)("footer",{children:Object(c.jsx)("p",{children:Object(c.jsxs)("small",{children:["\xa9",(new Date).getFullYear()," Mike Kang"]})})})]})]})})},O=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,19)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),r(e),i(e)}))};s.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(h,{})}),document.getElementById("root")),O()}],[[18,1,2]]]);
//# sourceMappingURL=main.55596a72.chunk.js.map