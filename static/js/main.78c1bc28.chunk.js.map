{"version":3,"sources":["components/Item.js","components/AddItem.js","js/drawPi.js","components/PI.js","js/setupCanvas.js","components/Export.js","App.js","reportWebVitals.js","index.js"],"names":["Item","props","nameRef","amountRef","useEffect","setInputRefs","prevState","className","data-idx","idx","onClick","e","setHiddenItems","curr","type","name","ref","elem","focus","AddItem","id","setItems","current","uID","updateInputDisplay","setUID","drawPi","canvas","rect","data","endAngleRadians","r","Math","PI","drawSegment","amount","int","context","getContext","ratio","total","color","sortedColorArray","endAngle","startAngle","save","beginPath","moveTo","width","height","arc","radius","fillStyle","fill","restore","sortedData","lineWidth","length","arr","i","rgba","push","str","join","reverse","clearRect","textAlign","textBaseline","font","fillText","key","hasOwnProperty","reduce","accum","Number","sort","objB","objA","valueA","valueB","sortData","v","k","text","y","textWidth","measureText","closeEnoughFontHeight","drawLegend","Pi","canvasRef","useLayoutEffect","parent","dpr","window","devicePixelRatio","ctx","parentRect","getBoundingClientRect","scale","setupCanvas","parentElement","pRect","canvasData","Export","preventDefault","dataURL","toDataURL","replace","popup","open","document","write","App","useState","setCanvasData","items","hiddenItems","inputRefs","React","createRef","filter","item","indexOf","onSubmit","getInputValueByName","j","getAttribute","value","obj","targetName","targetAmount","map","index","Date","getFullYear","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.78c1bc28.chunk.js","sourcesContent":["import React, {useEffect} from 'react';\r\n\r\nexport default function Item(props) {\r\n  let nameRef = null;\r\n  let amountRef = null;\r\n  \r\n  const setNameRef = (elem) => {\r\n    nameRef = elem;\r\n    \r\n    if (nameRef) {\r\n      nameRef.focus();\r\n    }\r\n  }\r\n  \r\n  const setAmountRef = (elem) => {\r\n    amountRef = elem;\r\n  }\r\n\r\n  function handleRemoveClick(e) {\r\n    props.setHiddenItems((curr) => [...curr, `idx-${props.idx}`]);\r\n  }\r\n      \r\n  useEffect(() => {\r\n    props.setInputRefs((prevState) => [\r\n      ...prevState,\r\n      nameRef,\r\n      amountRef,\r\n    ]);\r\n  }, [\r\n    props,\r\n  ]);\r\n\r\n  return (\r\n    <tr \r\n      className=\"item\"\r\n      data-idx={`idx-${props.idx}`}\r\n    >\r\n      <td>\r\n        <button\r\n          className=\"remove-item\"\r\n          onClick={handleRemoveClick}\r\n          type=\"button\"\r\n        >\r\n          <span>Remove Item</span>\r\n        </button>\r\n      </td>\r\n      <td>\r\n        <input\r\n          name={`name_${props.idx}`}\r\n          ref={setNameRef}\r\n          type=\"text\"\r\n        />\r\n      </td>\r\n      <td>\r\n        <input\r\n          name={`amount_${props.idx}`}\r\n          ref={setAmountRef}\r\n          type=\"number\"\r\n        />\r\n      </td>\r\n    </tr>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport Item from './Item';\r\n\r\nexport default function AddItem(props) {\r\n  function addItem() {\r\n    props.setItems((current) => [\r\n      ...current,\r\n      <Item\r\n        key={`idx-${props.uID}`}\r\n        idx={`${props.uID}`}\r\n        updateInputDisplay={props.updateInputDisplay}\r\n        setInputRefs={props.setInputRefs}\r\n        setHiddenItems={props.setHiddenItems}\r\n      />\r\n    ]);\r\n\r\n    props.setUID(props.uID + 1);\r\n  }\r\n\r\n  return (\r\n    <button\r\n      className=\"button add-item\"\r\n      id=\"add-item\"\r\n      onClick={addItem}\r\n      type=\"button\"\r\n    >\r\n      Add Slice\r\n    </button>\r\n  );\r\n}\r\n","export default function drawPi(canvas, rect, data) {\r\n  function drawTitleSplash() {\r\n    context.save();\r\n    context.fillStyle = 'magenta';\r\n    context.textAlign = \"center\";\r\n    context.textBaseline = \"middle\";\r\n    context.font = '80px sans-serif'; // base off of window?\r\n    context.fillText(\"Splash Screen FPO\", rect.width / 2, rect.height / 2);\r\n    context.restore();    \r\n  }\r\n  \r\n  function drawLegend() {\r\n    function drawMessage(text, y, color) {\r\n      context.save();\r\n      context.fillStyle = color;\r\n      context.fillText(text, textWidth, y);\r\n      context.restore();\r\n    }\r\n\r\n    context.save();\r\n\r\n    context.textAlign = \"left\";\r\n    context.textBaseline = \"top\";\r\n    context.font = '16px sans-serif'; // base off of window?\r\n\r\n    const textWidth = context.measureText('M').width;\r\n    const closeEnoughFontHeight = 1.125 * textWidth;\r\n    \r\n    for (let i = 0; i < sortedData.length; i++) {\r\n      let k;\r\n      \r\n      for (var key in sortedData[i]) {\r\n        if (sortedData[i].hasOwnProperty(key)) {\r\n          k = key;\r\n        }\r\n      }\r\n\r\n      drawMessage(k, i * closeEnoughFontHeight + closeEnoughFontHeight, sortedColorArray[i]);\r\n    }\r\n    \r\n    context.restore();\r\n  }\r\n\r\n  function getLineWidth() {\r\n    const base = 10;\r\n    \r\n    return base * data.length;\r\n  }\r\n\r\n  function calculateRadius() {\r\n    let radius;\r\n    \r\n    if (rect.width > rect.height) {\r\n      radius = rect.height;\r\n    } else {\r\n      radius = rect.width;\r\n    }\r\n    \r\n    radius = radius / 2 - lineWidth;\r\n\r\n    return radius;\r\n  }\r\n  \r\n  function sortData(data) {\r\n    return data.sort(function(objB, objA) {\r\n      let valueA;\r\n      let valueB;\r\n\r\n      for (let key in objA) {\r\n        if (objA.hasOwnProperty(key)) {\r\n          valueA = objA[key];\r\n        }\r\n      }\r\n      \r\n      for (let key in objB) {\r\n        if (objB.hasOwnProperty(key)) {\r\n          valueB = objB[key];\r\n        }\r\n      }\r\n      \r\n      return valueA - valueB;\r\n    }); \r\n  }\r\n    \r\n  function degreesToRadians(deg) {\r\n    return deg * Math.PI / 180;\r\n  }\r\n  \r\n  function endAngleRadians(r) {\r\n    const radians360 = degreesToRadians(360);\r\n    const angle = r * radians360;\r\n    \r\n    return angle;\r\n  }\r\n  \r\n  function drawSegment(name, amount, int) {\r\n    const context = canvas.getContext('2d');\r\n    const ratio = amount / total;\r\n    const color = sortedColorArray[int];\r\n    const endAngle = startAngle - endAngleRadians(ratio);\r\n    \r\n    context.save();\r\n    \r\n    context.beginPath();\r\n    context.moveTo(rect.width / 2, rect.height / 2);\r\n    context.arc(rect.width / 2, rect.height / 2, radius, startAngle, endAngle, true);\r\n\r\n    context.fillStyle = color;\r\n    context.fill();\r\n    context.restore();\r\n\r\n    // side effects and additional mutations\r\n    startAngle = endAngle;\r\n  }\r\n  \r\n  const lineWidth = getLineWidth();\r\n  const context = canvas.getContext('2d');\r\n  const radius = calculateRadius();\r\n  \r\n  let sortedData;\r\n  let startAngle = -Math.PI / 2;\r\n  let total;\r\n  \r\n  const sortedColorArray = (function(){\r\n    const arr = [];\r\n\r\n    for (let i = 1; i < data.length + 1; i++) {\r\n      const rgba = [\r\n        50,\r\n        50,\r\n        50,\r\n      ];\r\n      \r\n      rgba.push(i / data.length);\r\n\r\n      const str = `rgba(${rgba.join(',')})`;\r\n      \r\n      arr.push(str);\r\n    }\r\n    \r\n    arr.reverse();\r\n    \r\n    return arr;\r\n  }());\r\n  \r\n  context.clearRect(0, 0, rect.width, rect.height);\r\n\r\n  if (data.length < 1) {\r\n    drawTitleSplash();\r\n  } else {\r\n    total = (function() {\r\n      var arr = [];\r\n\r\n      for (let i = 0; i < data.length; i++) {\r\n        for (var key in data[i]) {\r\n          if (data[i].hasOwnProperty(key)) {\r\n            arr.push(data[i][key]);\r\n          }\r\n        }\r\n      }\r\n\r\n      if (arr.length > 0) {\r\n        return arr.reduce((accum, curr) => Number(accum) + Number(curr));        \r\n      }\r\n    }());\r\n\r\n    sortedData = sortData(data);\r\n\r\n    for (let i = 0; i < sortedData.length; i++) {\r\n      let k;\r\n      let v;\r\n\r\n      for (var key in sortedData[i]) {\r\n        if (sortedData[i].hasOwnProperty(key)) {\r\n          k = key;\r\n          v = sortedData[i][key];\r\n        }\r\n      }\r\n\r\n      drawSegment(k, v, i);\r\n    }\r\n\r\n    drawLegend();\r\n  }\r\n}\r\n","import setupCanvas from '../js/setupCanvas';\r\nimport drawPi from '../js/drawPi';\r\n\r\nimport React, {useEffect, useLayoutEffect} from 'react';\r\n\r\nexport default function Pi(props) {\r\n  const canvasRef = props.canvasRef;\r\n  \r\n  useLayoutEffect(function() {\r\n    const canvas = canvasRef.current;\r\n\r\n    if (canvas) {\r\n      setupCanvas(canvas, canvas.parentElement);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const canvas = canvasRef.current;\r\n    const pRect = canvas.parentElement.getBoundingClientRect();\r\n\r\n    drawPi(canvas, pRect, props.canvasData);\r\n  }, [\r\n    [props]\r\n  ]);\r\n\r\n  return (\r\n    <canvas\r\n      className=\"pi\"\r\n      id=\"pi\"\r\n      ref={props.canvasRef}\r\n    >\r\n    </canvas>\r\n  );\r\n}\r\n","export default function setupCanvas(canvas, parent) {\r\n  var dpr = window.devicePixelRatio || 1;\r\n  var ctx = canvas.getContext('2d');\r\n\r\n  var parentRect = parent.getBoundingClientRect();\r\n  \r\n  canvas.width = dpr * parentRect.width;\r\n  canvas.height = dpr * parentRect.height;\r\n  \r\n  return ctx.scale(dpr, dpr);\r\n}","import React from 'react';\r\n\r\nexport default function Export(props) {\r\n  function exportImage(e) {\r\n    e.preventDefault();\r\n\r\n    if (props.canvasRef) {\r\n      const dataURL = props.canvasRef.current.toDataURL(\"image/png\").replace(\"image/png\", \"image/octet-stream\");\r\n      \r\n      if (dataURL) {\r\n        const alt = \"Pie chart from canvas\";\r\n        const width = props.canvasRef.current.width / 2;\r\n        const height = props.canvasRef.current.height / 2;\r\n        const popup = window.open('about:blank', 'image from canvas');\r\n        const str = `<img src='${dataURL}' alt=${alt} width=${width} height=${height} />`;\r\n\r\n        popup.document.write(str);\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <button\r\n      className=\"button button-link export-as-image\"\r\n      onClick={exportImage}\r\n//      disabled={canvasData ? false : true}\r\n      type=\"button\"\r\n    >\r\n      Export\r\n    </button>\r\n  );\r\n}\r\n","import './css/reset.css';\r\nimport './css/App.css';\r\n\r\nimport React, {useEffect, useState} from 'react';\r\n\r\nimport AddItem from './components/AddItem';\r\nimport PI from './components/PI';\r\nimport Export from './components/Export';\r\n\r\nfunction App() {\r\n  const [uID, setUID] = useState(0);\r\n  const [canvasData, setCanvasData] = useState([]);\r\n  const [items, setItems] = useState([]);\r\n  const [hiddenItems, setHiddenItems] = useState([]);\r\n  const [inputRefs, setInputRefs] = useState([]);\r\n  const canvasRef = React.createRef();\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    \r\n    function getInputValueByName(name) {\r\n      let v;\r\n\r\n      for (let j = 0; j < inputRefs.length; j++) {\r\n        if (inputRefs[j].getAttribute('name') === name) {\r\n          v = inputRefs[j].value;\r\n        }\r\n      }\r\n\r\n      return v;\r\n    }\r\n\r\n    const data = (function() {\r\n      const arr = [];\r\n\r\n      for (let i = 0; i < uID; i++) {\r\n        if (hiddenItems.indexOf(`idx-${i}`) !== -1) {\r\n          continue;\r\n        }\r\n\r\n        const obj = {};\r\n        const targetName = `name_${i}`;\r\n        const targetAmount = `amount_${i}`;\r\n        const key = getInputValueByName(targetName);\r\n        const value = getInputValueByName(targetAmount);\r\n\r\n        if (key && value) {\r\n          obj[key] = value;\r\n\r\n          arr.push(obj);\r\n        }\r\n      }\r\n\r\n      return arr;\r\n    }());\r\n    \r\n    setCanvasData(data);\r\n  }\r\n  \r\n  useEffect(() => {\r\n    updateInputDisplay();\r\n  }, [\r\n    hiddenItems\r\n  ]);\r\n\r\n  function updateInputDisplay() {\r\n    setItems((current) => [...current].filter(item => hiddenItems.indexOf(item.key) === -1));\r\n  }\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <main>\r\n        <section className=\"mainbar\">\r\n          <figure>\r\n            <PI\r\n              canvasData={canvasData}\r\n              canvasRef={canvasRef}\r\n            />\r\n          </figure>\r\n        </section>\r\n        <section className=\"sidebar\">\r\n          <form onSubmit={handleSubmit}>\r\n            <h1>\r\n              <span>π</span>\r\n            </h1>\r\n            {items.length > 0 ? \r\n              <table>\r\n                <thead>\r\n                  <tr>\r\n                    <th>&nbsp;</th>\r\n                    <th>Name</th>\r\n                    <th>Amount</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {items.map((item, index) => item)}\r\n                </tbody>\r\n              </table>\r\n              : null\r\n            }\r\n            <div className=\"actions\">\r\n              <AddItem \r\n                setInputRefs={setInputRefs}\r\n                setHiddenItems={setHiddenItems}\r\n                updateInputDisplay={updateInputDisplay}\r\n                setItems={setItems}\r\n                setUID={setUID}\r\n                uID={uID}\r\n              />\r\n              <button\r\n                className=\"button make-chart\"\r\n                type=\"submit\"\r\n              >\r\n                Draw\r\n              </button>\r\n              <Export\r\n                canvasRef={canvasRef}\r\n              />\r\n            </div>\r\n          </form>\r\n          <footer>\r\n            <p><small>&copy;{new Date().getFullYear()} Mike Kang</small></p>\r\n          </footer>\r\n        </section>\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}