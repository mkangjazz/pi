(this.webpackJsonppi=this.webpackJsonppi||[]).push([[0],{13:function(t,e,n){},14:function(t,e,n){},15:function(t,e,n){"use strict";n.r(e);var c=n(0),a=n(1),i=n.n(a),r=n(7),s=n.n(r),o=n(2),u=n(3);n(13),n(14);function l(t){var e=null,n=null;return Object(a.useEffect)((function(){t.setInputRefs((function(t){return[].concat(Object(o.a)(t),[e,n])}))}),[t]),Object(c.jsxs)("tr",{className:"item","data-idx":"idx-".concat(t.idx),children:[Object(c.jsx)("td",{children:Object(c.jsx)("button",{className:"remove-item",onClick:function(e){t.setHiddenItems((function(e){return[].concat(Object(o.a)(e),["idx-".concat(t.idx)])}))},type:"button",children:Object(c.jsx)("span",{children:"Remove Item"})})}),Object(c.jsx)("td",{children:Object(c.jsx)("input",{name:"name_".concat(t.idx),ref:function(t){(e=t)&&e.focus()},type:"text"})}),Object(c.jsx)("td",{children:Object(c.jsx)("input",{name:"amount_".concat(t.idx),ref:function(t){n=t},type:"number"})})]})}function f(t){return Object(c.jsx)("button",{className:"button add-item",id:"add-item",onClick:function(){t.setItems((function(e){return[].concat(Object(o.a)(e),[Object(c.jsx)(l,{idx:"".concat(t.uID),updateInputDisplay:t.updateInputDisplay,setInputRefs:t.setInputRefs,setHiddenItems:t.setHiddenItems},"idx-".concat(t.uID))])})),t.setUID(t.uID+1)},type:"button",children:"Add Slice"})}function d(t,e,n){function c(t){return t*(360*Math.PI/180)}function a(n,a,i){var s=t.getContext("2d"),o=a/r,d=f[i],h=l-c(o);s.save(),s.beginPath(),s.moveTo(e.width/2,e.height/2),s.arc(e.width/2,e.height/2,u,l,h,!0),s.fillStyle=d,s.fill(),s.restore(),l=h}var i,r,s=10*n.length,o=t.getContext("2d"),u=(e.width>e.height?e.height:e.width)/2-s,l=-Math.PI/2,f=function(){for(var t=[],e=1;e<n.length+1;e++){var c=[50,50,50];c.push(e/n.length);var a="rgba(".concat(c.join(","),")");t.push(a)}return t.reverse(),t}();if(o.clearRect(0,0,e.width,e.height),n.length<1)o.save(),o.fillStyle="magenta",o.textAlign="center",o.textBaseline="middle",o.font="80px sans-serif",o.fillText("Splash Screen FPO",e.width/2,e.height/2),o.restore();else{r=function(){for(var t=[],e=0;e<n.length;e++)for(var c in n[e])n[e].hasOwnProperty(c)&&t.push(n[e][c]);if(t.length>0)return t.reduce((function(t,e){return Number(t)+Number(e)}))}(),i=function(t){return t.sort((function(t,e){var n,c;for(var a in e)e.hasOwnProperty(a)&&(n=e[a]);for(var i in t)t.hasOwnProperty(i)&&(c=t[i]);return n-c}))}(n);for(var d=0;d<i.length;d++){var h=void 0;for(var j in i[d])i[d].hasOwnProperty(j)&&(j,h=i[d][j]);a(0,h,d)}!function(){o.save(),o.textAlign="left",o.textBaseline="top",o.font="16px sans-serif";for(var t,e,n,c=o.measureText("M").width,a=1.125*c,r=0;r<i.length;r++){var s=void 0;for(var u in i[r])i[r].hasOwnProperty(u)&&(s=u);t=s,e=r*a+a,n=f[r],o.save(),o.fillStyle=n,o.fillText(t,c,e),o.restore()}o.restore()}()}}function h(t){var e=t.canvasRef;return Object(a.useLayoutEffect)((function(){var t=e.current;t&&function(t,e){var n=window.devicePixelRatio||1,c=t.getContext("2d"),a=e.getBoundingClientRect();t.width=n*a.width,t.height=n*a.height,c.scale(n,n)}(t,t.parentElement)}),[]),Object(a.useEffect)((function(){var n=e.current,c=n.parentElement.getBoundingClientRect();d(n,c,t.canvasData)}),[[t]]),Object(c.jsx)("canvas",{className:"pi",id:"pi",ref:t.canvasRef})}function j(t){return Object(c.jsx)("button",{className:"button button-link export-as-image",onClick:function(e){if(e.preventDefault(),t.canvasRef){var n=t.canvasRef.current.toDataURL("image/png").replace("image/png","image/octet-stream");if(n){var c=t.canvasRef.current.width/2,a=t.canvasRef.current.height/2,i=window.open("about:blank","image from canvas"),r="<img src='".concat(n,"' alt=").concat("Pie chart from canvas"," width=").concat(c," height=").concat(a," />");i.document.write(r)}}},type:"button",children:"Export"})}var b=function(){var t=Object(a.useState)(0),e=Object(u.a)(t,2),n=e[0],r=e[1],s=Object(a.useState)([]),l=Object(u.a)(s,2),d=l[0],b=l[1],x=Object(a.useState)([]),O=Object(u.a)(x,2),m=O[0],v=O[1],p=Object(a.useState)([]),g=Object(u.a)(p,2),w=g[0],I=g[1],y=Object(a.useState)([]),R=Object(u.a)(y,2),D=R[0],S=R[1],N=i.a.createRef();function P(){v((function(t){return Object(o.a)(t).filter((function(t){return-1===w.indexOf(t.key)}))}))}return Object(a.useEffect)((function(){P()}),[w]),Object(c.jsx)("div",{className:"App",children:Object(c.jsxs)("main",{children:[Object(c.jsx)("section",{className:"mainbar",children:Object(c.jsx)("figure",{children:Object(c.jsx)(h,{canvasData:d,canvasRef:N})})}),Object(c.jsxs)("section",{className:"sidebar",children:[Object(c.jsxs)("form",{onSubmit:function(t){function e(t){for(var e,n=0;n<D.length;n++)D[n].getAttribute("name")===t&&(e=D[n].value);return e}t.preventDefault();var c=function(){for(var t=[],c=0;c<n;c++)if(-1===w.indexOf("idx-".concat(c))){var a={},i="name_".concat(c),r="amount_".concat(c),s=e(i),o=e(r);s&&o&&(a[s]=o,t.push(a))}return t}();b(c)},children:[Object(c.jsx)("h1",{children:Object(c.jsx)("span",{children:"\u03c0"})}),m.length>0?Object(c.jsxs)("table",{children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"\xa0"}),Object(c.jsx)("th",{children:"Name"}),Object(c.jsx)("th",{children:"Amount"})]})}),Object(c.jsx)("tbody",{children:m.map((function(t,e){return t}))})]}):null,Object(c.jsxs)("div",{className:"actions",children:[Object(c.jsx)(f,{setInputRefs:S,setHiddenItems:I,updateInputDisplay:P,setItems:v,setUID:r,uID:n}),Object(c.jsx)("button",{className:"button make-chart",type:"submit",children:"Draw"}),Object(c.jsx)(j,{canvasRef:N})]})]}),Object(c.jsx)("footer",{children:Object(c.jsx)("p",{children:Object(c.jsxs)("small",{children:["\xa9",(new Date).getFullYear()," Mike Kang"]})})})]})]})})},x=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,16)).then((function(e){var n=e.getCLS,c=e.getFID,a=e.getFCP,i=e.getLCP,r=e.getTTFB;n(t),c(t),a(t),i(t),r(t)}))};s.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(b,{})}),document.getElementById("root")),x()}},[[15,1,2]]]);
//# sourceMappingURL=main.78c1bc28.chunk.js.map