(this.webpackJsonppi=this.webpackJsonppi||[]).push([[0],[,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(0),i=n(1),r=n.n(i),a=n(7),s=n.n(a),u=n(2),o=n(3);n(13),n(14),n(15),n(16),n(17);function f(e){var t=null,n=null;function r(t){e.setHiddenItems((function(t){return[].concat(Object(u.a)(t),["idx-".concat(e.idx)])}))}return Object(i.useEffect)((function(){e.setInputRefs((function(e){return[].concat(Object(u.a)(e),[t,n])}))}),[e,r]),Object(c.jsxs)("tr",{className:"item","data-idx":"idx-".concat(e.idx),children:[Object(c.jsx)("td",{children:Object(c.jsx)("button",{className:"remove-item",onClick:r,type:"button",children:Object(c.jsx)("span",{children:"Remove Item"})})}),Object(c.jsx)("td",{children:Object(c.jsx)("input",{name:"name_".concat(e.idx),ref:function(e){(t=e)&&t.focus()},type:"text"})}),Object(c.jsx)("td",{children:Object(c.jsx)("input",{name:"amount_".concat(e.idx),ref:function(e){n=e},type:"number"})})]})}function l(e){return Object(c.jsx)("button",{className:"button add-item",id:"add-item",onClick:function(){e.setItems((function(t){return[].concat(Object(u.a)(t),[Object(c.jsx)(f,{idx:"".concat(e.uID),updateInputDisplay:e.updateInputDisplay,setInputRefs:e.setInputRefs,setHiddenItems:e.setHiddenItems},"idx-".concat(e.uID))])})),e.setUID(e.uID+1)},type:"button",children:"Slice"})}function d(e,t,n,c){function i(e){return e*(360*Math.PI/180)}function r(e,n,c){var r=n/f,a=l[c],d=o-i(r);s.save(),s.beginPath(),s.moveTo(t.width/2,t.height/2),s.arc(t.width/2,t.height/2,u,o,d,!0),s.fillStyle=a,s.fill(),s.restore(),o=d}var a,s=e.getContext("2d"),u=function(){var e;return e=t.width>t.height?3/4*t.height:3/4*t.width,e/=2}(),o=-Math.PI/2,f=1,l=function(){for(var e=[],t=1;t<n.length+1;t++){var c=[30,30,30];c.push(t/n.length);var i="rgba(".concat(c.join(","),")");e.push(i)}return e.reverse(),e}();if(s.clearRect(0,0,t.width,t.height),n.length<1)!function(){var e=u/4;s.save(),s.fillStyle="rgb(136, 0, 21)",s.fillRect(0,0,t.width,t.height),s.fillStyle="#ffffff",s.textAlign="center",s.textBaseline="middle",s.font="".concat(e,"px sans-serif"),s.fillText("Slices",t.width/2,t.height/2),s.restore()}();else{f=function(){for(var e=[],t=0;t<n.length;t++)for(var c in n[t])n[t].hasOwnProperty(c)&&e.push(n[t][c]);if(e.length>0)return e.reduce((function(e,t){return Number(e)+Number(t)}))}(),a=function(e){return e.sort((function(e,t){var n,c;for(var i in t)t.hasOwnProperty(i)&&(n=t[i]);for(var r in e)e.hasOwnProperty(r)&&(c=e[r]);return n-c}))}(n);for(var d=0;d<a.length;d++){var j=void 0;for(var h in a[d])a[d].hasOwnProperty(h)&&(h,j=a[d][h]);r(0,j,d)}!function(){var e=u/15;s.save(),s.textAlign="left",s.textBaseline="top",s.font="".concat(e,"px sans-serif");for(var t,n,c,i=s.measureText("M").width,r=1.125*i,o=0;o<a.length;o++){var f=void 0;for(var d in a[o])a[o].hasOwnProperty(d)&&(f=d);t=f,n=o*r+r,c=l[o],s.save(),s.fillStyle="#ffffff",s.fillText(t,i,n),s.fillStyle=c,s.fillText(t,i,n),s.restore()}s.restore()}()}var b=e.toDataURL("image/png").replace("image/png","image/octet-stream");c.src=b}function j(e){var t=e.canvasRef;return Object(i.useLayoutEffect)((function(){var e=t.current;e&&function(e,t){var n=window.devicePixelRatio||1,c=e.getContext("2d"),i=t.getBoundingClientRect();e.width=n*i.width,e.height=n*i.height,c.scale(n,n)}(e,e.parentElement)}),[]),Object(i.useEffect)((function(){var n=t.current,c=n.parentElement.getBoundingClientRect();d(n,c,e.canvasData,e.imgRef.current)}),[[e]]),Object(c.jsx)("div",{className:"canvas-wrapper",children:Object(c.jsx)("canvas",{id:"pi",ref:e.canvasRef})})}var h=function(){var e=Object(i.useState)(0),t=Object(o.a)(e,2),n=t[0],a=t[1],s=Object(i.useState)([]),f=Object(o.a)(s,2),d=f[0],h=f[1],b=Object(i.useState)([]),x=Object(o.a)(b,2),O=x[0],m=x[1],v=Object(i.useState)([]),p=Object(o.a)(v,2),g=p[0],I=p[1],w=Object(i.useState)([]),y=Object(o.a)(w,2),R=y[0],D=y[1],S=r.a.createRef(),N=r.a.createRef();function P(){function e(e){for(var t,n=0;n<R.length;n++)R[n].getAttribute("name")===e&&(t=R[n].value);return t}var t=function(){for(var t=[],c=0;c<n;c++)if(-1===g.indexOf("idx-".concat(c))){var i={},r="name_".concat(c),a="amount_".concat(c),s=e(r),u=e(a);s&&u&&(i[s]=u,t.push(i))}return t}();h(t)}function C(){m((function(e){return Object(u.a)(e).filter((function(e){return-1===g.indexOf(e.key)}))})),P()}return Object(i.useEffect)((function(){C()}),[g]),Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)("header",{children:Object(c.jsx)("h1",{children:"Slices"})}),Object(c.jsxs)("main",{children:[Object(c.jsx)(j,{canvasData:d,canvasRef:S,imgRef:N}),Object(c.jsx)("section",{className:"mainbar",children:Object(c.jsx)("div",{className:"figure-wrapper",children:Object(c.jsx)("figure",{children:Object(c.jsx)("img",{alt:"Canvas data renders here",id:"imgPi",src:"",ref:N})})})}),Object(c.jsx)("section",{className:"sidebar",children:Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),P()},children:[O.length>0?Object(c.jsxs)("table",{children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"\xa0"}),Object(c.jsx)("th",{children:"Name"}),Object(c.jsx)("th",{children:"Amount"})]})}),Object(c.jsx)("tbody",{children:O.map((function(e,t){return e}))})]}):null,Object(c.jsxs)("div",{className:"actions",children:[Object(c.jsx)(l,{processInputData:P,setInputRefs:D,setHiddenItems:I,updateInputDisplay:C,setItems:m,setUID:a,uID:n}),Object(c.jsx)("button",{className:"button make-chart",type:"submit",children:"\u03c0"})]})]})})]}),Object(c.jsx)("footer",{children:Object(c.jsx)("p",{children:Object(c.jsxs)("small",{children:["\xa9",(new Date).getFullYear()," Mike Kang"]})})})]})},b=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,19)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),c(e),i(e),r(e),a(e)}))};s.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(h,{})}),document.getElementById("root")),b()}],[[18,1,2]]]);
//# sourceMappingURL=main.a8ba8a5d.chunk.js.map