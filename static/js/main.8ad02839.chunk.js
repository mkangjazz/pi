(this.webpackJsonppi=this.webpackJsonppi||[]).push([[0],[,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(0),i=n(1),a=n.n(i),r=n(7),s=n.n(r),u=n(2),o=n(3);n(13),n(14),n(15),n(16),n(17);function l(e){var t=null,n=null;function a(t){e.setHiddenItems((function(t){return[].concat(Object(u.a)(t),["idx-".concat(e.idx)])}))}return Object(i.useEffect)((function(){e.setInputRefs((function(e){return[].concat(Object(u.a)(e),[t,n])}))}),[a]),Object(c.jsxs)("tr",{className:"item","data-idx":"idx-".concat(e.idx),children:[Object(c.jsx)("td",{children:Object(c.jsx)("button",{className:"remove-item",onClick:a,type:"button",children:Object(c.jsx)("span",{children:"Remove Item"})})}),Object(c.jsx)("td",{children:Object(c.jsx)("input",{name:"name_".concat(e.idx),ref:function(e){(t=e)&&t.focus()},type:"text"})}),Object(c.jsx)("td",{children:Object(c.jsx)("input",{name:"amount_".concat(e.idx),ref:function(e){n=e},type:"number"})})]})}function f(e){return Object(c.jsx)("button",{className:"button add-item",id:"add-item",onClick:function(t){e.setItems((function(t){return[].concat(Object(u.a)(t),[Object(c.jsx)(l,{idx:"".concat(e.uID),updateInputDisplay:e.updateInputDisplay,setInputRefs:e.setInputRefs,setHiddenItems:e.setHiddenItems},"idx-".concat(e.uID))])})),e.handleSubmit(t),e.setUID(e.uID+1)},type:"button",children:"Slice"})}function d(e,t,n,c,i){function a(e){return e*(360*Math.PI/180)}function r(e,n,c){var i=l-a(n/f);u.save(),u.beginPath(),u.moveTo(t.width/2,t.height/2),u.arc(t.width/2,t.height/2,o,l,i,!0),u.fillStyle=c,u.fill(),u.restore(),l=i}var s,u=e.getContext("2d"),o=function(){var e;return e=t.width>t.height?3/4*t.height:3/4*t.width,e/=2}(),l=-Math.PI/2,f=1,d=function(){for(var e=[],t=0;t<n.length;t++){var c=t/n.length,i="rgba(255, 255, 255, ".concat(c,")");e.push(i)}return e}();if(u.clearRect(0,0,t.width,t.height),n.length<1)!function(){var e=o/4;u.save(),u.fillStyle="rgb(136, 0, 21)",u.fillRect(0,0,t.width,t.height),u.fillStyle="#ffffff",u.textAlign="center",u.textBaseline="middle",u.font="".concat(e,"px sans-serif"),u.fillText("Slices",t.width/2,t.height/2),u.restore()}();else{r(0,1,"rgb(".concat(i)),f=function(){for(var e=[],t=0;t<n.length;t++)for(var c in n[t])n[t].hasOwnProperty(c)&&e.push(n[t][c]);if(e.length>0)return e.reduce((function(e,t){return Number(e)+Number(t)}))}(),s=function(e){return e.sort((function(e,t){var n,c;for(var i in t)t.hasOwnProperty(i)&&(n=t[i]);for(var a in e)e.hasOwnProperty(a)&&(c=e[a]);return n-c}))}(n);for(var j=0;j<s.length;j++){var h=void 0;for(var b in s[j])s[j].hasOwnProperty(b)&&(b,h=s[j][b]);r(0,h,d[j])}!function(){function e(e,t,c){u.save(),u.fillStyle="#ffffff",u.fillText(e,n,t),u.fillStyle=c,u.fillText(e,n,t),u.restore()}var t=o/15;u.save(),u.textAlign="left",u.textBaseline="top",u.font="".concat(t,"px sans-serif");for(var n=u.measureText("M").width,c=1.125*n,i=0;i<s.length;i++){var a=void 0;for(var r in s[i])s[i].hasOwnProperty(r)&&(a=r);e(a,i*c+c,d[i])}u.restore()}()}var x=e.toDataURL("image/png");c.src=x}function j(e){var t=e.canvasRef;return Object(i.useLayoutEffect)((function(){var e=t.current;e&&function(e,t){var n=window.devicePixelRatio||1,c=e.getContext("2d"),i=t.getBoundingClientRect();e.width=n*i.width,e.height=n*i.height,c.scale(n,n)}(e,e.parentElement)})),Object(i.useEffect)((function(){var n=t.current,c=n.parentElement.getBoundingClientRect();d(n,c,e.canvasData,e.imgRef.current,e.selectedColor)}),[[e]]),Object(c.jsx)("div",{className:"canvas-wrapper",children:Object(c.jsx)("canvas",{id:"pi",ref:e.canvasRef})})}var h=function(){var e="255, 117, 24",t=Object(i.useState)(1),n=Object(o.a)(t,2),r=n[0],s=n[1],d=Object(i.useState)([]),h=Object(o.a)(d,2),b=h[0],x=h[1],O=Object(i.useState)([]),m=Object(o.a)(O,2),p=m[0],v=m[1],g=Object(i.useState)([]),I=Object(o.a)(g,2),y=I[0],w=I[1],R=Object(i.useState)(e),S=Object(o.a)(R,2),D=S[0],N=S[1],C=Object(i.useState)([Object(c.jsx)(l,{autofocus:!0,idx:"0",updateInputDisplay:M,setInputRefs:v,setHiddenItems:x},"idx-0")]),P=Object(o.a)(C,2),k=P[0],E=P[1],T=a.a.createRef(),B=a.a.createRef();function A(e){N(e.target.value)}function F(){function e(e){for(var t,n=0;n<p.length;n++)p[n].getAttribute("name")===e&&(t=p[n].value);return t}var t=function(){for(var t=[],n=0;n<r;n++)if(-1===b.indexOf("idx-".concat(n))){var c={},i="name_".concat(n),a="amount_".concat(n),s=e(i),u=e(a);s&&u&&(c[s]=u,t.push(c))}return t}();w(t)}function H(e){e.preventDefault(),F()}function M(){E((function(e){return Object(u.a)(e).filter((function(e){return-1===b.indexOf(e.key)}))})),F()}return Object(i.useEffect)((function(){M()}),[b]),Object(c.jsx)("div",{className:"App",children:Object(c.jsxs)("main",{children:[Object(c.jsx)(j,{selectedColor:D,canvasData:y,canvasRef:T,imgRef:B}),Object(c.jsxs)("section",{className:"mainbar",children:[Object(c.jsx)("h1",{children:"Slices"}),Object(c.jsx)("div",{className:"figure-wrapper",children:Object(c.jsx)("figure",{children:Object(c.jsx)("img",{alt:"Canvas data renders here",id:"imgPi",src:"",ref:B})})})]}),Object(c.jsxs)("section",{className:"sidebar",children:[Object(c.jsxs)("form",{onSubmit:H,children:[Object(c.jsx)("div",{className:"color-picker",children:[{name:"pumpkin",rgb:e},{name:"raspberry",rgb:"227, 11, 93"}].map((function(e,t){return Object(c.jsxs)("label",{children:[Object(c.jsx)("input",{checked:e.rgb===D,name:"[]",onChange:A,type:"radio",value:e.rgb}),e.name]},e.name)}))}),k.length>0?Object(c.jsxs)("table",{children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"\xa0"}),Object(c.jsx)("th",{children:"Name"}),Object(c.jsx)("th",{children:"Amount"})]})}),Object(c.jsx)("tbody",{children:k.map((function(e,t){return e}))})]}):null,Object(c.jsxs)("div",{className:"actions",children:[Object(c.jsx)(f,{handleSubmit:H,processInputData:F,setInputRefs:v,setHiddenItems:x,updateInputDisplay:M,setItems:E,setUID:s,uID:r}),Object(c.jsx)("button",{className:"button make-chart",type:"submit",children:"Draw"})]})]}),Object(c.jsx)("footer",{children:Object(c.jsx)("p",{children:Object(c.jsxs)("small",{children:["\xa9",(new Date).getFullYear()," Mike Kang"]})})})]})]})})},b=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,19)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),c(e),i(e),a(e),r(e)}))};s.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(h,{})}),document.getElementById("root")),b()}],[[18,1,2]]]);
//# sourceMappingURL=main.8ad02839.chunk.js.map